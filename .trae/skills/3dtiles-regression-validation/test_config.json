{
  "test_suites": [
    {
      "name": "smoke",
      "description": "冒烟测试 - 快速验证核心功能",
      "tests": [
        {
          "name": "osgb_to_gltf_bench",
          "description": "单个OSGB转glTF测试 - 验证基础转换功能",
          "input": "OSGB/bench.osgb",
          "format": "gltf",
          "args": [],
          "output": "bench.glb",
          "priority": "P0",
          "expected_outputs": ["bench.glb"],
          "timeout": 60,
          "validation": {
            "check_geometry": true,
            "check_materials": true
          },
          "notes": "基础功能测试，验证OSGB到glTF的转换"
        },
        {
          "name": "shapefile_to_3dtiles",
          "description": "Shapefile转3dtiles测试 - 验证建筑轮廓生成",
          "input": "SHP/1758464001_building/1758464001_building.shp",
          "format": "shape",
          "args": ["--height", "height"],
          "output": "tileset.json",
          "priority": "P0",
          "expected_outputs": ["tileset.json"],
          "timeout": 60,
          "validation": {
            "check_tileset_structure": true,
            "check_bounding_volume": true
          },
          "notes": "验证Shapefile到3D Tiles的转换"
        },
        {
          "name": "oblique_to_3dtiles",
          "description": "倾斜摄影转3dtiles测试 - 验证完整Data目录结构处理",
          "input": "Oblique/OSGBny",
          "format": "osgb",
          "args": [],
          "output": "tileset.json",
          "priority": "P0",
          "condition": "dir_exists",
          "expected_outputs": ["tileset.json", "Data/"],
          "timeout": 300,
          "validation": {
            "check_tile_hierarchy": true,
            "check_lod_structure": true
          },
          "notes": "验证倾斜摄影数据到3D Tiles的转换"
        },
        {
          "name": "fbx_to_3dtiles",
          "description": "FBX转3dtiles测试 - 验证带地理坐标的模型导入",
          "input": "FBX/taizhou-indoor.fbx",
          "format": "fbx",
          "args": ["--lon", "118", "--lat", "32", "--alt", "20"],
          "output": "tileset.json",
          "priority": "P0",
          "expected_outputs": ["tileset.json"],
          "timeout": 120,
          "validation": {
            "check_tileset_structure": true,
            "check_geographic_coords": true
          },
          "notes": "验证FBX到3D Tiles的转换"
        }
      ]
    },
    {
      "name": "osgb_conversion",
      "description": "OSGB转换测试 - 验证各种OSGB模型的转换",
      "tests": [
        {
          "name": "osgb_to_gltf_bench",
          "description": "单个OSGB转glTF - bench模型",
          "input": "OSGB/bench.osgb",
          "format": "gltf",
          "args": [],
          "output": "bench.glb",
          "priority": "P0",
          "expected_outputs": ["bench.glb"],
          "timeout": 60,
          "validation": {
            "check_geometry": true,
            "check_materials": true,
            "check_normals": true
          },
          "notes": "验证bench模型的转换"
        },
        {
          "name": "osgb_to_gltf_power_tower",
          "description": "单个OSGB转glTF - 电力塔模型",
          "input": "OSGB/power_tower.osgb",
          "format": "gltf",
          "args": [],
          "output": "power_tower.glb",
          "priority": "P1",
          "expected_outputs": ["power_tower.glb"],
          "timeout": 60,
          "validation": {
            "check_geometry": true,
            "check_materials": true
          },
          "notes": "验证电力塔模型的转换"
        },
        {
          "name": "osgb_to_gltf_power_tower2",
          "description": "单个OSGB转glTF - 电力塔模型2",
          "input": "OSGB/power_tower2.osgb",
          "format": "gltf",
          "args": [],
          "output": "power_tower2.glb",
          "priority": "P1",
          "expected_outputs": ["power_tower2.glb"],
          "timeout": 60,
          "validation": {
            "check_geometry": true,
            "check_materials": true
          },
          "notes": "验证电力塔模型2的转换"
        },
        {
          "name": "osgb_to_gltf_street_lamp",
          "description": "单个OSGB转glTF - 路灯模型",
          "input": "OSGB/street_lamp.osgb",
          "format": "gltf",
          "args": [],
          "output": "street_lamp.glb",
          "priority": "P1",
          "expected_outputs": ["street_lamp.glb"],
          "timeout": 60,
          "validation": {
            "check_geometry": true,
            "check_materials": true
          },
          "notes": "验证路灯模型的转换"
        }
      ]
    },
    {
      "name": "shapefile_conversion",
      "description": "Shapefile转换测试 - 验证不同坐标系的Shapefile转换",
      "tests": [
        {
          "name": "shapefile_to_3dtiles_1758464001",
          "description": "Shapefile转3dtiles - 1758464001建筑轮廓",
          "input": "SHP/1758464001_building/1758464001_building.shp",
          "format": "shape",
          "args": ["--height", "height"],
          "output": "tileset.json",
          "priority": "P0",
          "expected_outputs": ["tileset.json"],
          "timeout": 60,
          "validation": {
            "check_tileset_structure": true,
            "check_bounding_volume": true,
            "check_geometric_error": true
          },
          "notes": "验证1758464001建筑轮廓的转换"
        },
        {
          "name": "shapefile_to_3dtiles_cgcs2000",
          "description": "Shapefile转3dtiles - CGCS2000坐标系建筑",
          "input": "SHP/building_cgcs2000/building_cgcs2000.shp",
          "format": "shape",
          "args": ["--height", "height"],
          "output": "tileset.json",
          "priority": "P1",
          "expected_outputs": ["tileset.json"],
          "timeout": 60,
          "validation": {
            "check_tileset_structure": true,
            "check_bounding_volume": true
          },
          "notes": "验证CGCS2000坐标系建筑的转换"
        },
        {
          "name": "shapefile_to_3dtiles_epsg4548",
          "description": "Shapefile转3dtiles - EPSG4548坐标系建筑",
          "input": "SHP/building_epsg4548/building_epsg4548.shp",
          "format": "shape",
          "args": ["--height", "height"],
          "output": "tileset.json",
          "priority": "P1",
          "expected_outputs": ["tileset.json"],
          "timeout": 60,
          "validation": {
            "check_tileset_structure": true,
            "check_bounding_volume": true
          },
          "notes": "验证EPSG4548坐标系建筑的转换"
        },
        {
          "name": "shapefile_to_3dtiles_nanjing",
          "description": "Shapefile转3dtiles - 南京市建筑",
          "input": "SHP/nanjing_buildings/南京市_百度建筑.shp",
          "format": "shape",
          "args": ["--height", "height"],
          "output": "tileset.json",
          "priority": "P2",
          "expected_outputs": ["tileset.json"],
          "timeout": 120,
          "validation": {
            "check_tileset_structure": true,
            "check_bounding_volume": true
          },
          "notes": "验证南京市建筑的转换"
        }
      ]
    },
    {
      "name": "fbx_conversion",
      "description": "FBX转换测试 - 验证各种FBX模型的转换",
      "tests": [
        {
          "name": "fbx_to_3dtiles_taizhou_indoor",
          "description": "FBX转3dtiles - 台州室内模型",
          "input": "FBX/taizhou-indoor.fbx",
          "format": "fbx",
          "args": ["--lon", "118", "--lat", "32", "--alt", "20"],
          "output": "tileset.json",
          "priority": "P0",
          "expected_outputs": ["tileset.json"],
          "timeout": 120,
          "validation": {
            "check_tileset_structure": true,
            "check_geographic_coords": true
          },
          "notes": "验证台州室内模型的转换"
        },
        {
          "name": "fbx_to_3dtiles_as501",
          "description": "FBX转3dtiles - AS-501生产运维楼",
          "input": "FBX/AS-501生产运维楼.fbx",
          "format": "fbx",
          "args": ["--lon", "118", "--lat", "32", "--alt", "20"],
          "output": "tileset.json",
          "priority": "P1",
          "expected_outputs": ["tileset.json"],
          "timeout": 120,
          "validation": {
            "check_tileset_structure": true,
            "check_geographic_coords": true
          },
          "notes": "验证AS-501生产运维楼的转换"
        },
        {
          "name": "fbx_to_3dtiles_as501_m",
          "description": "FBX转3dtiles - AS-501生产运维楼(简化版)",
          "input": "FBX/AS-501生产运维楼-m.fbx",
          "format": "fbx",
          "args": ["--lon", "118", "--lat", "32", "--alt", "20"],
          "output": "tileset.json",
          "priority": "P1",
          "expected_outputs": ["tileset.json"],
          "timeout": 120,
          "validation": {
            "check_tileset_structure": true,
            "check_geographic_coords": true
          },
          "notes": "验证AS-501生产运维楼简化版的转换"
        },
        {
          "name": "fbx_to_3dtiles_tzcs",
          "description": "FBX转3dtiles - TZCS模型",
          "input": "FBX/TZCS_0829.FBX",
          "format": "fbx",
          "args": ["--lon", "118", "--lat", "32", "--alt", "20"],
          "output": "tileset.json",
          "priority": "P2",
          "expected_outputs": ["tileset.json"],
          "timeout": 120,
          "validation": {
            "check_tileset_structure": true,
            "check_geographic_coords": true
          },
          "notes": "验证TZCS模型的转换"
        },
        {
          "name": "fbx_to_3dtiles_yizheng",
          "description": "FBX转3dtiles - 仪征三维视图模型",
          "input": "FBX/仪征_D1_DC_AS_CD-三维视图.fbx",
          "format": "fbx",
          "args": ["--lon", "118", "--lat", "32", "--alt", "20"],
          "output": "tileset.json",
          "priority": "P2",
          "expected_outputs": ["tileset.json"],
          "timeout": 120,
          "validation": {
            "check_tileset_structure": true,
            "check_geographic_coords": true
          },
          "notes": "验证仪征三维视图模型的转换"
        },
        {
          "name": "fbx_to_3dtiles_20260128",
          "description": "FBX转3dtiles - 20260128模型",
          "input": "FBX/20260128_114012_012.fbx",
          "format": "fbx",
          "args": ["--lon", "118", "--lat", "32", "--alt", "20"],
          "output": "tileset.json",
          "priority": "P2",
          "expected_outputs": ["tileset.json"],
          "timeout": 120,
          "validation": {
            "check_tileset_structure": true,
            "check_geographic_coords": true
          },
          "notes": "验证20260128模型的转换"
        }
      ]
    },
    {
      "name": "oblique_conversion",
      "description": "倾斜摄影转换测试 - 验证倾斜摄影数据的转换",
      "tests": [
        {
          "name": "oblique_to_3dtiles_osgbny",
          "description": "倾斜摄影转3dtiles - OSGBny完整目录",
          "input": "Oblique/OSGBny",
          "format": "osgb",
          "args": [],
          "output": "tileset.json",
          "priority": "P0",
          "condition": "dir_exists",
          "expected_outputs": ["tileset.json", "Data/"],
          "timeout": 300,
          "validation": {
            "check_tile_hierarchy": true,
            "check_lod_structure": true,
            "check_bounding_volume": true,
            "check_geometric_error": true
          },
          "notes": "验证OSGBny倾斜摄影数据的转换"
        },
        {
          "name": "oblique_to_3dtiles_part",
          "description": "倾斜摄影转3dtiles - part部分目录",
          "input": "Oblique/part",
          "format": "osgb",
          "args": [],
          "output": "tileset.json",
          "priority": "P1",
          "condition": "dir_exists",
          "expected_outputs": ["tileset.json", "Data/"],
          "timeout": 300,
          "validation": {
            "check_tile_hierarchy": true,
            "check_lod_structure": true,
            "check_bounding_volume": true
          },
          "notes": "验证part倾斜摄影数据的转换"
        }
      ]
    }
  ],
  "validation_modes": {
    "strict": {
      "name": "strict",
      "description": "严格模式 - 用于发布前验证",
      "float_tolerance": 1e-9,
      "use_official_validator": true,
      "check_content": true,
      "byte_level_comparison": true
    },
    "relaxed": {
      "name": "relaxed",
      "description": "宽松模式 - 用于开发阶段验证",
      "float_tolerance": 1e-4,
      "use_official_validator": true,
      "check_content": true,
      "byte_level_comparison": true
    },
    "fast": {
      "name": "fast",
      "description": "快速模式 - 用于快速反馈",
      "float_tolerance": 1e-2,
      "use_official_validator": false,
      "check_content": false,
      "byte_level_comparison": false
    }
  },
  "selection_criteria": {
    "priority": {
      "P0": "核心功能，必须通过",
      "P1": "重要功能，建议通过",
      "P2": "次要功能，可选通过"
    },
    "timeout": {
      "short": 60,
      "medium": 120,
      "long": 300
    }
  },
  "execution_profiles": {
    "local_dev": {
      "name": "local_dev",
      "description": "本地开发 - 快速验证",
      "suites": ["smoke"],
      "mode": "fast",
      "parallel": 1,
      "timeout": 60
    },
    "pre_commit": {
      "name": "pre_commit",
      "description": "提交前 - 验证关键功能",
      "suites": ["smoke", "osgb_conversion"],
      "mode": "strict",
      "priority": "P0",
      "parallel": 2,
      "timeout": 180
    },
    "ci_standard": {
      "name": "ci_standard",
      "description": "CI标准 - 核心功能测试",
      "suites": ["smoke", "osgb_conversion", "shapefile_conversion", "fbx_conversion"],
      "mode": "strict",
      "parallel": 4,
      "timeout": 300
    },
    "ci_full": {
      "name": "ci_full",
      "description": "CI完整 - 包含倾斜摄影",
      "suites": ["smoke", "osgb_conversion", "shapefile_conversion", "fbx_conversion", "oblique_conversion"],
      "mode": "relaxed",
      "parallel": 4,
      "timeout": 600
    },
    "release": {
      "name": "release",
      "description": "发布前 - 完整测试",
      "suites": ["smoke", "osgb_conversion", "shapefile_conversion", "fbx_conversion", "oblique_conversion"],
      "mode": "strict",
      "parallel": 2,
      "timeout": 900
    }
  }
}
